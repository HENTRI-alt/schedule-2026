<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú—ñ–π –†–æ–∑–∫–ª–∞–¥ (–û–Ω–æ–≤–ª–µ–Ω–∏–π)</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --accent: #bb86fc;
            --accent-secondary: #03dac6;
            --text-main: #ffffff;
            --text-secondary: #b0b0b0;
            --group-selected-bg: #3700b3;
            --error-color: #cf6679;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            margin-bottom: 15px;
            font-size: 1.4rem;
            text-align: center;
        }

        .controls {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            margin-bottom: 20px;
        }

        .group-selector {
            display: flex;
            background: #2c2c2c;
            border-radius: 8px;
            padding: 4px;
            gap: 4px;
        }

        .group-btn {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .group-btn.active {
            background-color: var(--group-selected-bg);
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .date-control {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-left: 2px;
        }

        input[type="date"] {
            background: #2c2c2c;
            border: 1px solid #333;
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            width: 100%;
            box-sizing: border-box;
            outline: none;
        }

        input[type="date"]:focus {
            border-color: var(--accent);
        }

        .info-panel {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .day-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent);
        }
        
        .week-info {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .schedule-list {
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-bottom: 40px;
        }

        .lesson-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 16px;
            border-left: 5px solid var(--accent);
            display: flex;
            align-items: flex-start;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            position: relative;
        }

        .lesson-card.split-lesson {
            border-left-color: var(--accent-secondary); 
        }

        .lesson-number {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--text-secondary);
            margin-right: 15px;
            min-width: 25px;
            padding-top: 2px;
        }

        .lesson-details {
            flex-grow: 1;
        }

        .lesson-subject {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .lesson-meta {
            font-size: 0.85rem;
            color: var(--text-secondary);
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .meta-row {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .no-classes {
            text-align: center;
            color: var(--text-secondary);
            margin-top: 40px;
            font-size: 1.1rem;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
        }
        
        .out-of-range {
            text-align: center;
            color: var(--error-color);
            background: rgba(207, 102, 121, 0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--error-color);
        }

        .empty-slot {
            opacity: 0.5;
            border-left-color: #444;
        }
    </style>
</head>
<body>

    <h1>üéì –ú—ñ–π –†–æ–∑–∫–ª–∞–¥</h1>

    <div class="controls">
        <div class="date-control">
            <label>–¢–≤–æ—è –ø—ñ–¥–≥—Ä—É–ø–∞:</label>
            <div class="group-selector">
                <button class="group-btn active" onclick="setGroup(1)">1 –ì—Ä—É–ø–∞</button>
                <button class="group-btn" onclick="setGroup(2)">2 –ì—Ä—É–ø–∞</button>
            </div>
        </div>

        <div class="date-control">
            <label for="datePicker">–î–∞—Ç–∞:</label>
            <input type="date" id="datePicker">
        </div>
    </div>

    <div class="info-panel" id="infoPanel"></div>

    <div class="schedule-list" id="scheduleList"></div>

    <script>
        // === –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø ===
        let currentGroup = 1;
        
        // –ß—ñ—Ç–∫—ñ –º–µ–∂—ñ —Ä–æ–∑–∫–ª–∞–¥—É
        const SCHEDULE_START = new Date('2026-01-12T00:00:00');
        const SCHEDULE_END = new Date('2026-02-08T23:59:59');

        // === –î–ê–ù–Ü (–û–ù–û–í–õ–ï–ù–Ü) ===
        const schedule = {
            1: { // –ü–æ–Ω–µ–¥—ñ–ª–æ–∫
                1: { subject: "–£–∫—Ä. –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ (–õ–∫)", teacher: "–í–æ–ª–∫–æ–≤–∞ –õ.–í.", room: "501" },
                2: { subject: "–£–∫—Ä. –ú–æ–≤–∞ (–ü–∑)", teacher: "–í–æ–ª–∫–æ–≤–∞ –õ.–í.", room: "501" },
                3: { 
                    split: true,
                    g1: { subject: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ (–ü–∑1)", teacher: "–ö–∞—Ç–∞—à–æ–≤ –û.–ê.", room: "104" },
                    g2: { subject: "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ (–ü–∑2)", teacher: "–Ü–≥–Ω–∞—Ç—å—î–≤–∞ –ù.–í.", room: "105" }
                },
                4: [
                    null, // 12.01
                    { subject: "–ë—ñ–æ–ª–æ–≥—ñ—è / –ï–∫–æ–ª–æ–≥—ñ—è (–õ–∫)", teacher: "–ö–∞–ø–ª—É–Ω –û.–ê.", room: "321" }, // 19.01 (–î–û–î–ê–ù–û)
                    { subject: "–ë—ñ–æ–ª–æ–≥—ñ—è / –ï–∫–æ–ª–æ–≥—ñ—è (–õ–∫)", teacher: "–ö–∞–ø–ª—É–Ω –û.–ê.", room: "321" }, // 26.01
                    { subject: "–ë—ñ–æ–ª–æ–≥—ñ—è / –ï–∫–æ–ª–æ–≥—ñ—è (–õ–∫)", teacher: "–ö–∞–ø–ª—É–Ω –û.–ê.", room: "321" }  // 02.02
                ]
            },
            2: { // –í—ñ–≤—Ç–æ—Ä–æ–∫
                1: { subject: "–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è (–õ–∫)", teacher: "–ö–æ—Ä–Ω—î—î–≤–∞ –Ü.–ê.", room: "511" },
                2: { subject: "–§—ñ–∑–∏–∫–∞ / –ê—Å—Ç—Ä–æ–Ω–æ–º—ñ—è (–õ–∫)", teacher: "–°–µ–º–µ–Ω—á–µ–Ω–∫–æ –¢.–û.", room: "507" },
                3: [ 
                    { subject: "–ó–∞—Ö–∏—Å—Ç –£–∫—Ä–∞—ó–Ω–∏ (–õ–∫)", teacher: "–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –ú.–û.", room: "320" }, // 13.01
                    { subject: "–ó–∞—Ö–∏—Å—Ç –£–∫—Ä–∞—ó–Ω–∏ (–õ–∫)", teacher: "–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –ú.–û.", room: "320" }, // 20.01 (–î–û–î–ê–ù–û)
                    { subject: "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–õ–∫)", teacher: "–ë–æ—á–∞—Ä–Ω—ñ–∫–æ–≤–∞ –Ü.–í.", room: "309" }, // 27.01
                    { subject: "–ó–∞—Ö–∏—Å—Ç –£–∫—Ä–∞—ó–Ω–∏ (–õ–∫)", teacher: "–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –ú.–û.", room: "320" }  // 03.02
                ],
                4: null
            },
            3: { // –°–µ—Ä–µ–¥–∞
                1: { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "324–∞" },
                2: { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "325" },
                3: { subject: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–õ–∫)", teacher: "–ú–∞—Ç–≤—ñ–π—á–µ–Ω–∫–æ –û.–í.", room: "405" },
                4: { subject: "–ó–∞—Ä. –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ (–õ–∫)", teacher: "–°—É–ø—Ä—É–Ω –õ.–û.", room: "404" }
            },
            4: { // –ß–µ—Ç–≤–µ—Ä
                1: [
                    { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "214" },
                    { subject: "–ó–∞—Ö–∏—Å—Ç –£–∫—Ä–∞—ó–Ω–∏ (–õ–∫)", teacher: "–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –ú.–û.", room: "320" },
                    { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "214" },
                    { subject: "–ó–∞—Ö–∏—Å—Ç –£–∫—Ä–∞—ó–Ω–∏ (–õ–∫)", teacher: "–ê—Ñ–∞–Ω–∞—Å—å—î–≤ –ú.–û.", room: "320" }
                ],
                2: { subject: "–§–ö–ó (–ü–∑)", teacher: "–ú–∞–ª—ñ–∫ –Ü.–ú.", room: "102" },
                3: { subject: "–í—Å–µ—Å–≤—ñ—Ç–Ω—è –Ü—Å—Ç–æ—Ä—ñ—è (–õ–∫)", teacher: "–ü–∞–Ω–æ–≤–∞ –û.–°.", room: "401" },
                4: [
                    null, 
                    { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "101" }, 
                    null, 
                    { subject: "–û—Å–Ω. –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–õ–∫)", teacher: "–ê–±—Ä–æ—Å—ñ–º–æ–≤ –ú.–û.", room: "101" } 
                ]
            },
            5: { // –ü'—è—Ç–Ω–∏—Ü—è
                1: [
                    { subject: "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–õ–∫)", teacher: "–ë–æ—á–∞—Ä–Ω—ñ–∫–æ–≤–∞ –Ü.–í.", room: "308" },
                    { subject: "–§—ñ–∑–∏–∫–∞ / –ê—Å—Ç—Ä–æ–Ω–æ–º—ñ—è", teacher: "–°–µ–º–µ–Ω—á–µ–Ω–∫–æ –¢.–û.", room: "507" },
                    { subject: "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–õ–∫)", teacher: "–ë–æ—á–∞—Ä–Ω—ñ–∫–æ–≤–∞ –Ü.–í.", room: "308" },
                    { subject: "–§—ñ–∑–∏–∫–∞ / –ê—Å—Ç—Ä–æ–Ω–æ–º—ñ—è", teacher: "–°–µ–º–µ–Ω—á–µ–Ω–∫–æ –¢.–û.", room: "507" }
                ],
                2: [
                    { subject: "–ó–∞—Ä. –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ (–õ–∫)", teacher: "–°—É–ø—Ä—É–Ω –õ.–û.", room: "404" },
                    { subject: "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏ (–®–∫)", teacher: "–ü–∞–Ω–æ–≤–∞ –û.–°.", room: "401" },
                    { subject: "–ó–∞—Ä. –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ (–õ–∫)", teacher: "–°—É–ø—Ä—É–Ω –õ.–û.", room: "404" },
                    { subject: "–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏ (–®–∫)", teacher: "–ü–∞–Ω–æ–≤–∞ –û.–°.", room: "401" }
                ],
                3: { subject: "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó (–ö–ü—Ä.)", teacher: "–ú—ñ–ª—é—Ç—ñ–Ω–∞ –û.–°.", room: "515" },
                4: { subject: "–ì—Ä–æ–º. –û—Å–≤—ñ—Ç–∞ (–ï–∫)", teacher: "–û–∫—Å–µ–Ω–µ–Ω–∫–æ –°.–ü.", room: "407" }
            }
        };

        const datePicker = document.getElementById('datePicker');
        const infoPanel = document.getElementById('infoPanel');
        const scheduleList = document.getElementById('scheduleList');
        const btns = document.querySelectorAll('.group-btn');

        const savedGroup = localStorage.getItem('myScheduleGroup');
        if (savedGroup) {
            currentGroup = parseInt(savedGroup);
            updateGroupButtons();
        }

        datePicker.valueAsDate = new Date();
        updateSchedule();

        datePicker.addEventListener('change', updateSchedule);

        function setGroup(groupNum) {
            currentGroup = groupNum;
            localStorage.setItem('myScheduleGroup', groupNum);
            updateGroupButtons();
            updateSchedule();
        }

        function updateGroupButtons() {
            btns.forEach((btn, index) => {
                if (index + 1 === currentGroup) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        function updateSchedule() {
            const selectedDate = new Date(datePicker.value);
            const dayOfWeek = selectedDate.getDay(); 

            scheduleList.innerHTML = '';

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: —á–∏ –≤—Ö–æ–¥–∏—Ç—å –¥–∞—Ç–∞ –≤ –ø–µ—Ä—ñ–æ–¥ 12.01 - 08.02
            const checkDate = new Date(selectedDate);
            checkDate.setHours(0,0,0,0);
            const limitStart = new Date(SCHEDULE_START);
            limitStart.setHours(0,0,0,0);
            const limitEnd = new Date(SCHEDULE_END);
            limitEnd.setHours(23,59,59,999);

            const daysMap = ["–ù–µ–¥—ñ–ª—è", "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", "–í—ñ–≤—Ç–æ—Ä–æ–∫", "–°–µ—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä", "–ü'—è—Ç–Ω–∏—Ü—è", "–°—É–±–æ—Ç–∞"];
            const currentDayName = daysMap[dayOfWeek];

            if (checkDate < limitStart || checkDate > limitEnd) {
                infoPanel.innerHTML = `<div class="day-title">${currentDayName}</div>`;
                scheduleList.innerHTML = `<div class="out-of-range">üö´ –ù–∞ —Ü–µ–π –ø–µ—Ä—ñ–æ–¥ —Ä–æ–∑–∫–ª–∞–¥—É –Ω–µ–º–∞—î.<br>–í—ñ–Ω –¥—ñ—î –∑ 12.01 –ø–æ 08.02.</div>`;
                return;
            }

            const diffTime = checkDate - limitStart;
            const weekIndex = Math.floor(diffTime / (1000 * 60 * 60 * 24 * 7));

            const weekNames = ["1-–π —Ç–∏–∂–¥–µ–Ω—å (12.01 - 18.01)", "2-–π —Ç–∏–∂–¥–µ–Ω—å (19.01 - 25.01)", "3-–π —Ç–∏–∂–¥–µ–Ω—å (26.01 - 01.02)", "4-–π —Ç–∏–∂–¥–µ–Ω—å (02.02 - 08.02)"];

            infoPanel.innerHTML = `
                <div class="day-title">${currentDayName}</div>
                <div class="week-info">${weekNames[weekIndex] || "–¢–∏–∂–¥–µ–Ω—å"}</div>
            `;

            if (dayOfWeek === 0 || dayOfWeek === 6) {
                scheduleList.innerHTML = '<div class="no-classes">–í–∏—Ö—ñ–¥–Ω–∏–π! üéâ</div>';
                return;
            }

            const daySchedule = schedule[dayOfWeek];
            if (!daySchedule) {
                 scheduleList.innerHTML = '<div class="no-classes">–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</div>';
                 return;
            }

            for (let i = 1; i <= 4; i++) {
                let lessonData = daySchedule[i];

                if (Array.isArray(lessonData)) {
                    lessonData = lessonData[weekIndex];
                }

                if (lessonData && lessonData.split) {
                    lessonData = (currentGroup === 1) ? lessonData.g1 : lessonData.g2;
                }

                renderCard(i, lessonData);
            }
        }

        function renderCard(num, lesson) {
            const card = document.createElement('div');
            
            if (lesson) {
                card.className = 'lesson-card';
                card.innerHTML = `
                    <div class="lesson-number">${num}</div>
                    <div class="lesson-details">
                        <div class="lesson-subject">${lesson.subject}</div>
                        <div class="lesson-meta">
                            <div class="meta-row"><span>üë§</span> ${lesson.teacher}</div>
                            <div class="meta-row"><span>üö™</span> ${lesson.room}</div>
                        </div>
                    </div>
                `;
            } else {
                card.className = 'lesson-card empty-slot';
                card.innerHTML = `
                    <div class="lesson-number">${num}</div>
                    <div class="lesson-details">
                        <div class="lesson-subject">–í—ñ–∫–Ω–æ</div>
                    </div>
                `;
            }
            scheduleList.appendChild(card);
        }
    </script>
</body>
</html>